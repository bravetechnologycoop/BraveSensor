<!DOCTYPE html>
<html lang="en">
<head>
    <title>Update Contact - {{#contact}}{{name}}{{/contact}}</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" crossorigin="anonymous">
    {{> css}}
</head>

<body>
    {{> nav}}
    <div class="content-area">
        <div class="content-wrapper">
            {{#contact}}
            <h4 class="no-locations">Update Contact: {{name}}</h4>
            <br>
            <form class="needs-validation" action="/contacts/{{contact_id}}" method="POST">
                <div class="form-group row justify-content-start row-no-gutters">
                    <label for="contactId" class="col-sm-3 col-form-label">Contact ID:</label>
                    <div class="col-sm-5">
                        <input type="text" class="form-control" name="id" value="{{contact_id}}" disabled>
                    </div>
                </div>

                <div class="form-group row justify-content-start row-no-gutters">
                    <label for="name" class="col-sm-3 col-form-label">Name:</label>
                    <div class="col-sm-5">
                        <input type="text" class="form-control" name="name" placeholder="Full Name" value="{{name}}" required>
                    </div>
                </div>

                <!-- Organization: replaced input with select -->
                <div class="form-group row justify-content-start row-no-gutters">
                    <label for="organization" class="col-sm-3 col-form-label">Organization:</label>
                    <div class="col-sm-5">
                        <select class="form-control" name="organization" required>
                            {{#organization}}
                                <!-- current organization shown first and selected -->
                                <option value="{{organization}}" selected>{{organization}}</option>
                            {{/organization}}
                            {{^organization}}
                                <option value="" disabled selected>Select an organization</option>
                            {{/organization}}
                            {{#organizations}}
                                <option value="{{.}}">{{.}}</option>
                            {{/organizations}}
                        </select>
                    </div>
                </div>

                <div class="form-group row justify-content-start row-no-gutters">
                    <label for="clientId" class="col-sm-3 col-form-label">Client:</label>
                    <div class="col-sm-5">
                        <select class="form-control" name="clientId">
                            <option value="">-- No client / None --</option>
                            {{#clients}}
                                <option value="{{client_id}}" {{#selected}}selected{{/selected}}>{{display_name}}</option>
                            {{/clients}}
                        </select>
                    </div>
                </div>

                <div class="form-group row justify-content-start row-no-gutters">
                    <label for="email" class="col-sm-3 col-form-label">Contact Email:</label>
                    <div class="col-sm-5">
                        <input type="email" class="form-control" name="email" placeholder="Email Address" value="{{email}}">
                    </div>
                </div>

                <div class="form-group row justify-content-start row-no-gutters">
                    <label for="contactPhoneNumber" class="col-sm-3 col-form-label">Contact Phone Number:</label>
                    <div class="col-sm-5">
                        <input type="text" class="form-control" name="contactPhoneNumber" placeholder="+1XXXXXXXXXX" value="{{phoneNumber}}">
                    </div>
                </div>

                <div class="form-group row justify-content-start row-no-gutters">
                    <label for="notes" class="col-sm-3 col-form-label">Notes:</label>
                    <div class="col-sm-5">
                        <textarea class="form-control" name="notes" placeholder="Notes">{{notes}}</textarea>
                    </div>
                </div>

                <div class="form-group row justify-content-start row-no-gutters">
                    <label for="shippingAddress" class="col-sm-3 col-form-label">Shipping Address:</label>
                    <div class="col-sm-5">
                        <textarea class="form-control" name="shippingAddress" placeholder="Street, City, State, ZIP">{{shippingAddress}}</textarea>
                    </div>
                </div>

                <div class="form-group row justify-content-start row-no-gutters">
                    <label for="lastTouchpoint" class="col-sm-3 col-form-label">Last Touchpoint:</label>
                    <div class="col-sm-5">
                        <input type="date" class="form-control" name="lastTouchpoint" value="{{lastTouchpoint}}">
                        <small class="form-text text-muted">Current: {{#lastTouchpoint}}{{lastTouchpoint}}{{/lastTouchpoint}}{{^lastTouchpoint}}Not set{{/lastTouchpoint}}</small>
                    </div>
                </div>

                <div class="form-group row justify-content-start row-no-gutters">
                    <label for="shippingDate" class="col-sm-3 col-form-label">Shipping Date:</label>
                    <div class="col-sm-5">
                        <input type="date" class="form-control" name="shippingDate" value="{{shippingDate}}">
                        <small class="form-text text-muted">Current: {{#shippingDate}}{{shippingDate}}{{/shippingDate}}{{^shippingDate}}Not set{{/shippingDate}}</small>
                    </div>
                </div>

                <div class="form-group row justify-content-start row-no-gutters">
                    <label for="tags" class="col-sm-3 col-form-label">Tags:</label>
                    <div class="col-sm-5">
                        <input type="text" class="form-control" name="tags" placeholder="Comma-separated tags" value="{{tags}}">
                        <small class="form-text text-muted">e.g., program manager</small>
                    </div>
                </div>

                <br>
                <button type="submit" class="btn btn-primary btn-large">Submit</button>
            </form>
            {{/contact}}

            {{^contact}}
                <h5>Sorry, this contact does not appear to exist.</h5>
            {{/contact}}
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" crossorigin="anonymous"></script>
</body>

</html>